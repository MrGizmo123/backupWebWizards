<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finatic-Analytics</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src=""></script>

    <script>
      tailwind.config = {
	  theme: {
              extend: {
		  fontFamily: {
		      inter: ['Inter', 'sans-serif']
		  },
		  colors: {
		  },

              }
	  }
      }
    </script>
  </head>

  <body class="m-0 p-0 bg-gray-100 relative">

    <!-- navbar -->

    <nav class="flex justify-between bg-white w-full  p-3 shadow-md md:px-10 sm:px-5 sticky top-0 z-50">
      <div class="flex gap-1 items-center">
	<img src="./img/Logo.png" alt="">
	<a href="">
          <h2 class="text-xl font-inter font-bold">Finatic</h2>
	</a>
      </div>
      <div class="flex xl:gap-12 lg:gap-8">
	<a href="./dashboard">
          <h1
            class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-3 rounded-md hover:text-blue-800 md:block sm:hidden min-[320px]:hidden">
            Dashboard</h1>
	</a>
	<a href="./Transactions">
          <h1
            class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-3 rounded-md hover:text-blue-800 md:block sm:hidden min-[320px]:hidden">
            Transactions</h1>
	</a>
	<h1
          class="text-md font-inter font-medium bg-slate-200 p-3 rounded-md text-blue-800 md:block sm:hidden min-[320px]:hidden cursor-pointer">
          Analytics</h1>
	<a href="./goals">
          <h1
            class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-3 rounded-md hover:text-blue-800 md:block sm:hidden min-[320px]:hidden">
            Goals</h1>
	</a>
	<a href="./profile">
          <h1
            class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-3 rounded-md hover:text-blue-800 md:block sm:hidden min-[320px]:hidden">
            Profile</h1>
	</a>
      </div>
      <div class="flex items-center">
	<a href="login"><button
			  class="font-inter font-medium text-gray-600 bg-slate-200 p-2 px-6 rounded-md hover:bg-blue-500 hover:text-slate-100 md:block sm:hidden min-[320px]:hidden" onclick="logout()">Logout</button></a>
	<img src="" alt="">
	<button class="hamburger">
          <img src="./img/hamburger.png" alt="" class="xl:hidden md:hidden sm:block min-[320px]:block h-6 px-4 ">
	</button>
      </div>
    </nav>

    <!-- dropdown -->

    <div class="dropdown hidden">
      <div
	class="absolute top-10 right-1 bg-white w-auto p-4 flex flex-col items-center justify-center gap-3 rounded-md border-2 border-double border-slate-600">
	<a href="./dashboard">
          <h1 class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-2 rounded-md hover:text-blue-800 ">
            Dashboard</h1>
	</a>
	<a href="./Transactions">
          <h1 class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-2 rounded-md hover:text-blue-800 ">
            Transactions</h1>
	</a>
	<h1 class="text-md font-inter font-medium text-gray-600 bg-slate-200 p-2 rounded-md text-blue-800 ">
          Analytics</h1>
	<a href="./goals">
          <h1 class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-2 rounded-md hover:text-blue-800 ">
            Goals</h1>
	</a>
	<a href="./profile">
          <h1 class="text-md font-inter font-medium text-gray-600 hover:bg-slate-200 p-2 rounded-md hover:text-blue-800 ">
            Profile</h1>
	</a>
      </div>
    </div>

    <!-- analytic page -->

    <div class="pb-8 pt-4 flex flex-col justify-center items-center ">
      <h1 class="w-full xl:text-5xl min-[320px]:text-3xl font-inter font-semibold text-gray-800 text-center p-3">Analytics
      </h1>
      <div class="w-[60%] h-1 bg-slate-300"></div>
    </div>
    <div class="flex justify-center gap-5 xl:flex-row min-[320px]:flex-col">
      <div class="flex flex-col items-center gap-5">
	<div class="xl:w-[45vw] md:w-[60vw] sm:w-[70vw] min-[320px]:w-[85vw]  bg-white rounded-md shadow-sm  ">
          <div class="p-1 px-9 pt-3">
            <h1 class="p-1 text-sm font-inter font-extralight text-gray-600">Year 2024</h1>
            <h1 class="p-1 pt-0 text-xl font-inter font-semibold text-black">Monthly Expenses</h1>
            <div class="w-full  h-[1px] bg-slate-200"></div>

          </div>
          <div id="monthly-expense-chart">
          </div>
	</div>
	<div
          class="xl:w-[45vw] md:w-[60vw] sm:w-[70vw] min-[320px]:w-[85vw] bg-white rounded-md shadow-sm flex flex-col justify-center items-center xl:gap-[3vh] min-[320px]:gap-[2vh]">
          <div class="p-1 px-9 pt-3 w-[100%]">
            <h1 class="p-1 text-sm font-inter font-extralight text-gray-600 text-start ">STATS</h1>
            <h1 class="p-1 pt-0 pb-3 text-xl font-inter font-semibold text-black text-start">Top Spending Categories</h1>
            <div class="w-full  h-[1px] bg-slate-200"></div>
          </div>
          <div class="flex justify-between w-3/4 items-center ">
            <div
              class="bg-blue-500 text-white font-inter xl:text-3xl min-[320px]:text-xl font-bold rounded-full xl:h-40 xl:w-40 min-[320px]:h-24  min-[320px]:w-24   flex justify-center items-center hover:scale-105 transition-all 1s">
              5.3k</div>
            <div
              class="bg-purple-500 text-white font-inter xl:text-3xl min-[320px]:text-sm  font-bold rounded-full xl:h-28 xl:w-28  min-[320px]:h-20  min-[320px]:w-20  flex justify-center items-center hover:scale-105 transition-all 1s">
              2.3k</div>
            <div
              class="bg-gray-800 text-white font-inter xl:text-3xl min-[320px]:text-sm  font-bold rounded-full xl:h-20 xl:w-20  min-[320px]:h-16  min-[320px]:w-16  flex justify-center items-center hover:scale-105 transition-all 1s">
              1.1k</div>
          </div>
          <div class="flex justify-between items-center w px-7">
            <div class="flex gap-1 items-center p-4">
              <div class="h-2 w-2 rounded-full bg-blue-500"></div>
              <div class="font-inter xl:text-xl  text-gray-500 min-[320px]:text-sm  font-medium">Grocery</div>
            </div>
            <div class="flex gap-1 items-center p-4"">
						     <div class=" h-2 w-2 rounded-full bg-purple-500"></div>
						     <div class="font-inter xl:text-xl  text-gray-500 min-[320px]:text-sm  font-medium">Transport</div>
		 </div>
		 <div class="flex gap-1 items-center p-4"">
              <div class=" h-2 w-2 rounded-full bg-gray-500"></div>
              <div class="font-inter xl:text-xl  text-gray-500 min-[320px]:text-sm  font-medium">Household </div>
	    </div>
	  </div>
	</div>
      </div>
      <div class="xl:w-[45vw] min-[320px]:w-full flex justify-center">
	<div
	  class="xl:w-[45vw] md:w-[60vw] sm:w-[70vw] min-[320px]:w-[85vw] justify-center items-center bg-white rounded-md shadow-sm ">
	  <div class="flex flex-col gap-1">
            <div class="flex justify-center items-center">
              <div class="px-9 pt-3 w-[100%]">
		<h1 class=" xl:text-sm min-[320px]:text-[10px] font-inter font-extralight text-gray-600 text-start ">STATS
		</h1>
		<h1 class=" xl:text-xl min-[320px]:text-[12px] font-inter font-semibold text-black text-start">Category-wise
		  Expense</h1>

              </div>
              <div class="flex items-center p-2 px-2 gap-2 bg-slate-100 rounded-xl  sm:scale-75 min-[320px]:scale-75">
		<button id="monthly"
			class="text-sm font-inter font-extralight rounded-xl px-7 p-3  bg-black text-white shadow-md "
			onclick="updateChart(data.monthly, 10); monthly_colour()">Monthly</button>
		<button id="annually" class="text-sm font-inter font-extralight rounded-xl px-7 text-black p-3 shadow-md "
			onclick="updateChart(data.annually, 80); annual_colour()">Annually</button>
              </div>
            </div>

            <div class="flex justify-center items-center">
              <div class="w-[90%] h-[1px] bg-slate-200"></div>
            </div>
	  </div>
	  <div id="chart2" class="p-4 pt-6"></div>
	</div>
      </div>
    </div>

    <div class="xl:w-full min-[320px]:w-full flex justify-center items-center">
      <div class="flex justify-center gap-5 xl:flex-row min-[320px]:flex-col pt-6 ">
	<div
          class="xl:w-[45vw] md:w-[60vw] sm:w-[70vw] min-[320px]:w-[85vw] bg-white rounded-md shadow-sm flex flex-col items-center justify-center">
          <div class="p-1 px-9 pt-3 w-full">
            <h1 class="p-1 text-sm font-inter font-extralight text-gray-600">STATS</h1>
            <h1 class="p-1 pt-0 text-xl font-inter font-semibold text-black">Income Source (in percentage)</h1>
            <div class="w-full h-[1px] bg-slate-200"></div>
          </div>
          <div id="chart3" class="w-full flex justify-center items-center"></div>
	</div>
	<div class="xl:w-[45vw] md:w-[60vw] sm:w-[70vw] min-[320px]:w-[85vw] bg-white rounded-md shadow-sm  ">
          <div class="p-1 px-9 pt-3">
            <h1 class="p-1 text-sm font-inter font-extralight text-gray-600">STATS</h1>
            <h1 class="p-1 pt-0 text-xl font-inter font-semibold text-black">Savings</h1>
            <div class="w-full  h-[1px] bg-slate-200"></div>
            <div id="chart4"></div>
            <div class="flex items-center justify-center">
              <h1
		class="p-1 pt-0 xl:text-xl min-[320px]:text-[18px] pb-5 font-inter font-medium  text-center   text-green-800">
		Rs. 2000/-</h1>
              <h1 class="p-1 pt-0 xl:text-xl min-[320px]:text-[18px] pb-5 font-inter font-thin  text-center   text-black">
		to
		complete this month's Goal</h1>
            </div>
          </div>
	</div>
      </div>
    </div>
    <div class="w-full flex justify-center p-5">
      <div class="w-[95vw]  flex flex-col justify-center p-3 bg-white rounded-md shadow-sm">
	<div class="p-3 w-full">
          <h1 class="p-1 text-sm font-inter font-extralight text-gray-600">STATS</h1>
          <h1 class="p-1 pt-0 text-xl font-inter font-semibold text-black">Budget Vs Expenses</h1>
          <div class="w-full h-[1px] bg-slate-200"></div>
	</div>
	<div id="chart5"></div>
      </div>
    </div>
    <div id="footer"></div>
    <script type="module" src="./js/analytic.js"></script>
    <script>


      document.addEventListener('DOMContentLoaded', function () {
	  const annually = document.getElementById('annually');
	  const monthly = document.getElementById('monthly');

	  console.log(annually);
	  console.log(monthly);

	  window.annual_colour = function () {
              annually.style.backgroundColor = 'black';
              annually.style.color = 'white';
              monthly.style.backgroundColor = 'white';
              monthly.style.color = 'black';
	  }

	  window.monthly_colour = function () {
              monthly.style.backgroundColor = 'black';
              monthly.style.color = 'white';
              annually.style.backgroundColor = 'transparent';
              annually.style.color = 'black';
	  }
      });

      
      const data = {
	  monthly: [4, 4, 4, 4, 5, 5, 6],
	  annually: [48, 51, 53, 56, 64, 69, 78]
      };

      var options = {
	  series: [{
	      data: data.monthly
	  }],
	  chart: {
	      type: 'bar',
	      height: 620,
	      
	  },
	  plotOptions: {
	      bar: {
		  borderRadius: 4,
		  horizontal: true,
		  barHeight: '30%',
		  distributed: true, 
		  dataLabels: {
		      position: 'top' 
		  }
	      }
	  },
	  colors: ['#4A3AFF', '#9291A5'], 
	  dataLabels: {
	      enabled: true,
	      formatter: function(val, opts) {
		  return opts.w.globals.labels[opts.dataPointIndex];
	      },
	      offsetY: -30,
	      
	      style: {
		  fontFamily: 'Inter, sans-serif',
		  fontSize: '16px',
		  fontWeight: 'light',
		  colors: ["#615E83"]
	      }
	  },
	  xaxis: {
	      categories: ['Household', 'Education', 'Transportation', 'Fashion & Entertainment', 'Health', 'Grocery', 'Miscellaneous'],
	      labels: {
		  show: true,
		  formatter: function (value) {
		      return value + 'k';
		  },
	      },
	      axisBorder: {
		  show: true,
		  color: '#ccc',
		  height: 1,
		  width: '100%',
		  offsetX: 0,
		  offsetY: 0
	      },
	      axisTicks: {
		  show: true,
		  borderType: 'solid',
		  color: '#ccc',
		  height: 6,
		  offsetX: 0,
		  offsetY: 0
	      },
	      lines: {
		  show: true,
		  opacity: 0.1
	      },
	      min: 0,
              max: 10
	  },
	  yaxis: {
	      labels: {
		  show: false,
		  formatter: function (value) {
		      return value + 'k';
		  },
		  style: {
		      fontSize: '14px',
		      colors: ['#000']
		  }
		  
	      }
	  },
	  grid: {
	      show: true,
	      borderColor: '#ccc',
	      strokeDashArray: 0,
	      position: 'back',
	      xaxis: {
		  lines: {
		      show: false
		  }
	      },
	      yaxis: {
		  lines: {
		      show: false
		  }
	      },
	      row: {
		  colors: undefined,
		  opacity: 0.1
	      },
	      column: {
		  colors: undefined,
		  opacity: 0.1
	      },
	      padding: {
		  top: 0,
		  right: 0,
		  bottom: 0,
		  left: 0
	      }
	  },
	  legend: {
	      show: false, 
	  }
      };

      var chart2 = new ApexCharts(document.querySelector("#chart2"), options);
      chart2.render();

      function updateChart(data, max) {
	  chart2.updateOptions({
	      series: [{
		  data: data
	      }],
	      xaxis: {
		  min: 0,
		  max: max
	      }
	  });
      }
      
      
    </script>
    <script src="./js/logout.js"></script>
    <script src="./js/footer.js"></script>
    <script src="./js/nav.js"></script>

  </body>

</html>
